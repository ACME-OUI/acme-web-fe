{% extends "base.html" %}
{% block title %} ACME Dashboard {% endblock %}
{% block extra_headers %}

{% load staticfiles %}

  <!-- Materialize -->
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
  <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script src="//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>

  <!-- Golden-Layout -->
  <script type="text/javascript" src="{% static "js/resources/goldenlayout.min.js"%}"></script>
  <link type="text/css" rel="stylesheet" href="{% static "css/goldenlayout-base.css"%}"/>
	<link type="text/css" rel="stylesheet" href="{% static "css/goldenlayout-dark-theme.css"%}"/>
  <link type="text/css" rel="stylesheet" href="{% static "css/goldenlayout-light-theme.css"%}"/>

  <!-- AngularJS -->
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-aria.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-animate.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-messages.min.js"></script>
  <script src="{% static "js/controllers/app.js" %}"></script>
  <script src="{% static "js/controllers/cdat.js" %}"></script>
  <script src="{% static "js/controllers/esgf.js" %}"></script>
  <script src="{% static "js/controllers/velo.js" %}"></script>
  <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.css">

  <!-- AngularJS Tree -->
  <script type="text/javascript" src="{% static "js/resources/angular-tree-control.js"%}"></script>
  <link rel="stylesheet" href="{% static "css/tree-control.css"%}">

  <!-- Bootstrap -->
  <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.js"></script>

  <!-- Font Awesome -->
  <!-- <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> -->

  <!-- Slick Carousel -->
  <script type="text/javascript" src="{% static "js/resources/slick.js" %}"></script>
  <link rel="stylesheet" type="text/css" href="{% static "css/slick.css" %}"/>
  <link rel="stylesheet" href="{% static "css/slick-theme.css" %}">

  <!-- Code Mirror -->
  <link rel="stylesheet" href="{% static "css/twilight.css" %}">
  <link rel="stylesheet" href="{% static "css/3024-day.css" %}">
  <link rel="stylesheet" href="{% static "css/codemirror.css" %}">


  <!-- mTree -->
  <!-- <link rel="stylesheet" href="{% static "css/mtree.css" %}">
  <script src='http://cdnjs.cloudflare.com/ajax/libs/velocity/0.2.1/jquery.velocity.min.js'></script> -->

  <!-- Quick tree for cdatweb (change over to m-tree later?)-->
  <script type="text/javascript" src="{% static "js/resources/quicktree.js" %}"></script>
  <!-- CDAT Web css-->
  <link rel="stylesheet" href="{% static "css/cdat.css" %}">

  <!-- Material Spinner see:http://jsfiddle.net/augburto/ejxj7tfb/-->
  <link rel="stylesheet" href="{% static "css/spinner.css"%}">

  <!-- vtkweb -->
  <!-- <script type="text/javascript" src="{% static "vtkweb/js/autobahn.min.js" %}"></script>
  <script type="text/javascript" src="{% static "vtkweb/js/jquery.hammer.min.js" %}"></script>
  <script type="text/javascript" src="{% static "vtkweb/js/vtkweb-all.js" %}"></script>
  <script type="text/javascript" src="{% static "js/resources/cdat.js" %}"></script>
  <script type="text/javascript">cdat.visualization_launcher = "{{ vis_launcher }}";</script> -->

  <!-- Dashboard -->
  <link rel="stylesheet" href="{% static "css/dashboard.css"%}">


  <!--Dashboard main-->
  <!-- <script type="text/javascript" src="{% static "js/dashboard.js" %}"></script> -->
{% endblock %}



{% block dropmenu %}

  <!-- <nav class="menu" id="slide-menu-left" style="top: 50px; z-index:22;">
    <ul id="side-menu">
      <div id="velo_window"></div>
      <div id="esgf_window"></div>
      <div id="cdat_window"></div>
      <li><button type="button" class="btn menu-btn" id="new-plot">New Plot</button></li>
    </ul>
    <br>
    <button type="button" class="btn menu-btn" id="dark-mode-toggle">Dark mode is off</button>1
    <button type="button" class="btn menu-btn" id="save-layout">Store Current Layout</button>
    <button type="button" class="btn menu-btn" id="load-layout">Load Previous Layout</button>
  </nav> -->
  <!-- Nav left menu -->

{% endblock %}

{% block content %}

{% endblock %}
{% block layout %}
  <div class="wrapper" id="layout-wrapper">
    <ul id="menuContainer"></ul>
    <div class="layoutContainer" id="layoutContainer" ng-controller="DashboardControl" ng-init="init()">
      <div class="">
        <template type="text/html" id="cdat_wrapper">
          <div class="cdat_window" ng-controller="CDATControl" ng-init="init()">

          </div>
        </template>
      </div>
      <div class="">
        <template type="text/html" id="esgf_wrapper">
          <div class="esgf_window" ng-controller="ESGFControl" ng-init="init()">
            <div class="spinner_wrapper dashboard-show-hide" ng-show="spinner == true"><div class="spinner-container">
              <div class="spinner-layer spinner-layer--blue">
                  <div class="spinner-clipper spinner-clipper--left">
                      <div class="spinner-circle"></div>
                  </div>
                  <div class="spinner--patch">
                    <div class="spinner-circle"></div>
                  </div>
                  <div class="spinner-clipper spinner-clipper--right">
                      <div class="spinner-circle"></div>
                  </div>
              </div>

              <div class="spinner-layer spinner-layer--red">
                  <div class="spinner-clipper spinner-clipper--left">
                      <div class="spinner-circle"></div>
                  </div>
                  <div class="spinner--patch">
                    <div class="spinner-circle"></div>
                  </div>
                  <div class="spinner-clipper spinner-clipper--right">
                      <div class="spinner-circle"></div>
                  </div>
              </div>

              <div class="spinner-layer spinner-layer--yellow">
                  <div class="spinner-clipper spinner-clipper--left">
                      <div class="spinner-circle"></div>
                  </div>
                  <div class="spinner--patch">
                    <div class="spinner-circle"></div>
                  </div>
                  <div class="spinner-clipper spinner-clipper--right">
                      <div class="spinner-circle"></div>
                  </div>
              </div>

              <div class="spinner-layer spinner-layer--green">
                  <div class="spinner-clipper spinner-clipper--left">
                      <div class="spinner-circle"></div>
                  </div>
                  <div class="spinner--patch">
                    <div class="spinner-circle"></div>
                  </div>
                  <div class="spinner-clipper spinner-clipper--right">
                      <div class="spinner-circle"></div>
                  </div>
              </div>
          </div></div>
            <!-- TODO: Get this to work with a template, so that when new windows are created dynamicall they compile themselves -->
            <!-- step 1:select node pane -->
            <form class="dashboard-show-hide esgf_scope_[[$id]]" ng-show="step == 1 && ready == true">
              <p ng-repeat="node in node_list">
                <input type="checkbox" id="[[node + $id]]" value="[[node]]"/>
                <label for="[[node + $id]]">[[node]]</label>
              </p>
              <a class="waves-effect waves-light btn" ng-click="select_nodes($id)"> select </a>
            </form>
            <!-- step 2: select facet -->
            <a class="waves-effect waves-light btn teal dashboard-show-hide" ng-show="step != 1" ng-click="step = step - 1">
              <i class="material-icons left">backspace</i>
            </a>
            <div class="dashboard-show-hide" ng-show="step == 2 && ready == true">
              <div class="card-panel teal">
                <span class="white-text">Search Terms</span>
                <div class="collection">
                  <a href="#!" class="collection-item" ng-repeat="(facet, option) in searchTerms">
                    [[facet]] : [[option]]
                  </a>
                </div>
                <a href="#!" class="waves-effect waves-light btn" ng-click="search()">Search</a>
              </div>
              <ul class="collapsible" data-collapsible="accordion">
                <li ng-repeat="(facet,options) in facet_options">
                  <div class="collapsible-header" ng-click="switch_arrow(facet)">
                    <i class="material-icons" id="[[facet]]_arrow">play_arrow</i>
                    [[facet]]
                  </div>
                  <div class="collapsible-body">
                    <p ng-repeat="(option, hits) in options">
                      <input name="[[facet]]" type="radio" ng-click="searchTerms[facet] = option" id="[[option]]" />
                      <label for="[[option]]">[[option]] : [[hits]]</label>
                    </p>
                  </div>
                </li>
              </ul>
            </div>
            <!-- step 3: select a dataset -->
            <div class="dashboard-show-hide" ng-show="step == 3 && ready == true">
              <ul class="collapsible popout" data-collapsible="accordion">
                <li ng-repeat="key in datasets track by $index">
                  <div class="collapsible-header" ng-click="switch_arrow($index)">
                    <i class="material-icons" id="[[$index]]_arrow">play_arrow</i>
                    [[key.title]]
                  </div>
                  <div class="collapsible-body">
                    <ul class="collection" ng-repeat="(k,v) in key" style="padding: 1em;">
                      <li>[[k]] : [[v]]</li>
                    </ul>
                  </div>
                </li>
              </ul>
            </div>

          </div>
        </template>
      </div>
      <div class="">
        <template type="text/html" id="velo_wrapper">
          <div class="velo_window" ng-controller="VeloControl" ng-init="init()">

          </div>
        </template>
      </div>
    </div>
  </div>
  <script type="text/javascript" src="{% static "js/controllers/window.js"%}"></script>



{% endblock %}
